# 🌱 BerryMind

**이상기후 적응형 딸기 AI 스마트농업 시스템**  
**Sensor · SAM3 Vision · Logic-based Strategic Control**

<img width="1376" height="572" alt="시스템 아키텍처" src="https://github.com/user-attachments/assets/89135c8a-92e0-4d08-96b7-df0757b36028" />

## 🔍 Overview

**BerryMind**는 이상기후로 인한 국내 농가의 작물 생산 위기를 극복하고, 지속 가능한 정밀 농업을 실현하기 위해 개발된 통합 관리 플랫폼입니다. 데이터에 기반한 선제적 환경 조절과 객관적인 생육 진단을 통해 농업 숙련도에 상관없이 안정적인 고품질 작물 생산 환경을 구축합니다.

단순히 센서 수치를 유지하는 기존 자동화 방식을 넘어, **작물의 생리적 특성과 에너지 비용 효율성을 동시에 고려한 전략적 자율 제어 엔진**을 지향합니다.


## 🎯 프로젝트 목표 (Key Objectives)

- **정밀 생육 인지 모델 구축**: SAM3(Segment Anything Model 3)를 활용하여 복잡한 온실 환경에서도 딸기의 개화 및 착과 상태를 픽셀 단위로 정밀하게 분리하고, 이를 시계열로 분석하여 정확한 생육 단계를 판정합니다.
- **이상기후 대응 전략 최적화**: 급격한 외부 환경 변화(한파, 폭염, 다우) 상황에서도 작물의 스트레스를 최소화할 수 있는 데이터 기반의 선제적 제어 로직을 구현합니다.
- **에너지 및 자원 효율 극대화**: 광합성 효율이 극대화되는 시간대에 자원을 집중 투입하고, 불필요한 구동기 작동을 억제하는 'Time-Band' 및 'Priority Rule'을 통해 농가 운영 비용을 최적화합니다.
- **현장 중심의 자율 제어 시스템**: 농민의 도메인 지식과 AI의 판단 논리를 결합하여 실제 현장에서 신뢰할 수 있고 예측 가능한 제어 프로세스를 제공합니다.

## 🛠️ 핵심 기술 (Core Technologies)

**SAM3 기반 식물 생육 진단 (Vision)**  
고도화된 Segmentation 기술을 통해 딸기의 꽃, 미숙과, 숙과를 개별 객체로 인식합니다. 이를 통해 단순히 사진을 보는 수준을 넘어 현재 농장의 생육 진척도를 수치화된 데이터로 변환합니다.

**환경 예측 및 데이터 정제 (Sensing)**  
온습도, \(CO_2\), 조도 등 다변량 센서 데이터를 10분 단위 윈도우로 분할 관리합니다. 장기 결측치 발생 시 전일 동일 시간대 데이터를 기반으로 보정하는 알고리즘을 통해 제어의 연속성을 보장합니다.

**전략적 자율 제어 (Logic Engine)**  
일출(SR)과 일몰(SS) 리듬에 맞춘 8개 구간(Time-Band) 분할 제어를 수행합니다. 에너지 절감과 작물 안전을 최우선으로 하는 중재 로직이 실시간으로 최적의 구동기 명령을 산출합니다.

---

## 📂 Project Structure


### 🤖 [온실 전략 제어 시스템](./control_logic)

- **Time-Band Manager**: 위도와 경도 데이터를 기반으로 매일의 일출·일몰 시간을 계산하여 8개의 가변적 제어 구간을 생성합니다.
- **Priority Rule Engine**: 에너지 최소화, 구동기 수명 보호(Pause Time), 야간 과습 방지 등 다중 제약 조건을 반영한 전략적 의사결정을 수행합니다.

### 🍓 [SAM3 생육 단계 분석 시스템](./vision_model)

- **SAM3 Inference Pipeline**: 최신 SAM3 엔진을 통해 이미지 내 작물의 생리적 지표를 추출합니다.
- **Stage Decision Logic**: 추출된 비전 데이터를 바탕으로 S1(정식)부터 S4(수확)까지의 생육 단계를 자동 판정하며, 누적 데이터를 통해 판정 결과의 안정성을 확보합니다.


https://github.com/user-attachments/assets/7254e227-6d4c-4f36-88e7-aee57207e45b
